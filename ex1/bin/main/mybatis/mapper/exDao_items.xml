<?xml version="1.0" encoding="UTF-8"?>

 <!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="com.example.demo.dao.IDao_items">
	
	<select id="fruitInSeason_viewDao" resultType="com.example.demo.dto.dto_items">
		SELECT * FROM items WHERE item_category='제철과일';
	</select>
	
	<select id="fruitInSeason_downDao" resultType="com.example.demo.dto.dto_items">
		SELECT * FROM items WHERE item_category='제철과일' ORDER BY item_sale_price ASC;
	</select>
	
	<select id="fruitInSeason_upDao" resultType="com.example.demo.dto.dto_items">
		SELECT * FROM items WHERE item_category='제철과일' ORDER BY item_sale_price DESC;
	</select>
	
	<select id="fruitInSeason_newviewDao" resultType="com.example.demo.dto.dto_items">
		SELECT * FROM items WHERE item_category='제철과일' ORDER BY category_idx DESC;
	</select>
	
	<select id="fruitInSeason_countDao" resultType="_int">
		SELECT COUNT(*) FROM items WHERE item_category='제철과일';
	</select>
	
	
	<select id="importedFruit_viewDao" resultType="com.example.demo.dto.dto_items">
		SELECT * FROM items WHERE item_category='수입과일';
	</select>
	
	<select id="importedFruit_downDao" resultType="com.example.demo.dto.dto_items">
		SELECT * FROM items WHERE item_category='수입과일' ORDER BY item_sale_price ASC;
	</select>
	
	<select id="importedFruit_upDao" resultType="com.example.demo.dto.dto_items">
		SELECT * FROM items WHERE item_category='수입과일' ORDER BY item_sale_price DESC;
	</select>
	
	<select id="importedFruit_newviewDao" resultType="com.example.demo.dto.dto_items">
		SELECT * FROM items WHERE item_category='수입과일' ORDER BY category_idx DESC;
	</select>
	
	<select id="importedFruit_countDao" resultType="_int">
		SELECT COUNT(*) FROM items WHERE item_category='수입과일';
	</select>


	<select id="fallenFruit_viewDao" resultType="com.example.demo.dto.dto_items">
		SELECT * FROM items WHERE item_category='낙과채널';
	</select>
	
	<select id="fallenFruit_downDao" resultType="com.example.demo.dto.dto_items">
		SELECT * FROM items WHERE item_category='낙과채널' ORDER BY item_sale_price ASC;
	</select>
	
	<select id="fallenFruit_upDao" resultType="com.example.demo.dto.dto_items">
		SELECT * FROM items WHERE item_category='낙과채널' ORDER BY item_sale_price DESC;
	</select>
	
	<select id="fallenFruit_newviewDao" resultType="com.example.demo.dto.dto_items">
		SELECT * FROM items WHERE item_category='낙과채널' ORDER BY category_idx DESC;
	</select>
	
	<select id="fallenFruit_countDao" resultType="_int">
		SELECT COUNT(*) FROM items WHERE item_category='낙과채널';
	</select>
	
	
	<select id="All_viewDao" resultType="com.example.demo.dto.dto_items">
		SELECT * FROM items;
	</select>
	
	<select id="all_countDao" resultType="_int">
		SELECT COUNT(*) FROM items;
	</select>
	
	
	<insert id="item_insert">
		INSERT INTO items (idx, category_idx, item_name, item_category, item_img, item_discount_rate, item_real_price, item_sale_price, item_description) VALUES (0, #{ category_index }, #{ item_name }, #{ item_category }, #{ file }, #{ item_sale_discount }, #{ item_real_price }, #{ item_sale_price }, #{ item_description } )
	</insert>
	
	<update id="item_update">
		UPDATE items SET item_name = #{ item_name }, item_category= #{ item_category }, item_img= #{ item_img }, item_discount_rate = #{ item_sale_discount }, item_real_price = #{ item_real_price }, item_sale_price = #{ item_sale_price }, item_description = #{ item_description } WHERE idx = #{ param7 }
	</update>
	
	<delete id="item_delete">
		DELETE FROM items WHERE idx = #{ idx }
	</delete>

	
</mapper>
	
